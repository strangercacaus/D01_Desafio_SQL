{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Boas Vindas","text":""},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este \u00e9 um projeto de Business Intelligence que teve inicio durante o Bootcamp de Data Engineering da How Bootcamps em 2023. Ao longo do tempo inclu\u00ed melhorias de estrutura de projeto e documenta\u00e7\u00e3o.</p>"},{"location":"#objetivo","title":"Objetivo","text":"<p>Este projeto possui 2 objetivos principais:</p> <ul> <li>Explorar o conceito de Conteineriza\u00e7\u00e3o para gest\u00e3o de depend\u00eancias e ambientes virtuais.</li> <li>Criar uma estrutura de BI do zero, implementando um banco de dados e uma ferramenta de BI.</li> </ul>"},{"location":"#tecnologias-utilizadas","title":"Tecnologias Utilizadas","text":"<p>Para a cria\u00e7\u00e3o de tabelas e views de maneira program\u00e1tica foi utilizado Python, assim como para a ingest\u00e3o de dados e inser\u00e7\u00e3o no banco. As bibliotecas utilizadas na rotina foram <code>sqlalchemy</code>, <code>requests</code> e <code>pandas</code></p> <p></p> <p>O banco de dados escolhido para o projeto foi o PostgreSQL em raz\u00e3o de ser Open-Source e amplamente adotado.</p> <p></p> <p>Tamb\u00e9m Open-Source e compat\u00edvel com Docker, o Metabase foi a ferramenta de BI escolhida para a explora\u00e7\u00e3o dos dados do projeto.</p> <p></p> <p>O Docker foi utilizado para a virtualiza\u00e7\u00e3o do ambiente de execu\u00e7\u00e3o.</p>"},{"location":"#layout-do-projeto","title":"Layout do projeto","text":"<pre><code>root\n\u251c\u2500\u2500 .bi_volume/ # Diret\u00f3rio vinculado ao conteiner docker na imagem do metabase.\n\u251c\u2500\u2500 .db_volume/ # Diret\u00f3rio vinculado ao conteiner docker na imagem do postgresql.\n\u251c\u2500\u2500 backups/ # Diret\u00f3rio com o backup dos dados contidos no .bi_volume e .db_volume.\n\u251c\u2500\u2500 docs/ # Arquivos de documenta\u00e7\u00e3o\n\u251c\u2500\u2500 sql_files/ # Comandos DML para cria\u00e7\u00e3o de tabelas e views.\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 main.py # Script de ingest\u00e3o\n\u251c\u2500\u2500 previews/ # Prints e imagens do projeto\n\u251c\u2500\u2500 .env # Arquivo com credenciais de acesso ao banco de dados.\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 docker-compose.yml # Arquivo de configura\u00e7\u00e3o do ambiente do Docker\n\u251c\u2500\u2500 Dockerfile # Arquivo de configura\u00e7\u00e3o do ambiente do Docker\n\u251c\u2500\u2500 mkDocs.yaml # Arquivo de configura\u00e7\u00e3o da documenta\u00e7\u00e3o\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"Consultas_SQL/","title":"Comandos SQL do Projeto:","text":""},{"location":"Consultas_SQL/#criacao-das-tabelas","title":"Cria\u00e7\u00e3o das Tabelas:","text":""},{"location":"Consultas_SQL/#tabela-de-goleadores-goalscorers","title":"Tabela de Goleadores (goalscorers)","text":"<pre><code>CREATE TABLE public.goalscorers (\n    id serial4,\n    \"date\" date not null,\n    home_team varchar(50),\n    away_team varchar(50), \n    team varchar(50),\n    scorer varchar,\n    minute numeric,\n    own_goal boolean,\n    penalty boolean);\n</code></pre>"},{"location":"Consultas_SQL/#tabela-de-resultados-das-partidas-results","title":"Tabela de resultados das partidas (results):","text":"<pre><code>CREATE TABLE public.results(\n    id serial4,\n    \"date\" date not null,\n    home_team varchar(50),\n    away_team varchar(50), \n    home_score integer,\n    away_score integer,\n    tournament varchar,\n    city varchar,\n    country varchar(50),\n    neutral boolean);\n</code></pre>"},{"location":"Consultas_SQL/#tabela-de-resultados-de-penaltis-shootouts","title":"Tabela de resultados de p\u00eanaltis (shootouts):","text":"<pre><code>CREATE TABLE public.shootouts (\n    id serial4,\n    \"date\" date not null,\n    home_team varchar(50),\n    away_team varchar(50), \n    winner varchar(50),\n    first_shooter varchar(50));\n</code></pre>"},{"location":"Consultas_SQL/#criacao-de-viewss","title":"Cria\u00e7\u00e3o de viewss:","text":""},{"location":"Consultas_SQL/#indice-de-resultados-results_index","title":"\u00cdndice de Resultados (results_index).","text":"<p>Retorna um \u00edndice com diversas estat\u00edticas sobre cada sele\u00e7\u00e3o <pre><code>create or replace view results_index\nas-- Primeira CTE: Retorna uma lista com o nome de todos os pa\u00edses sem duplicatas\nwith paises as (\nselect distinct *\nfrom\n    (select\n        r.home_team as clube\n    from results r  where r.tournament != 'Friendly'\n    union all\n    select\n        r.away_team as clube\n    from results r  where r.tournament != 'Friendly') innertable\norder by 1 asc),\n-- Segunda CTE: Retorna a soma de todos os goals realizados e sofridos tanto na posi\u00e7\u00e3o de away team quanto home team, atrav\u00e9s do UNION ALL\n    saldogols as (\nselect\n    clube,\n    sum(gols_realizados) as gols_realizados,\n    sum(gols_sofridos) as gols_sofridos\nfrom\n    (select\n        r4.home_team as clube,\n        r4.away_team as adversario,\n        r4.home_score as gols_realizados,\n        r4.away_score as gols_sofridos\n    from\n        results r4  where r4.tournament != 'Friendly'\nunion all\n    select\n        r3.away_team as clube,\n        r3.home_team as adversario,\n        r3.away_score as gols_realizados,\n        r3.home_score as gols_sofridos\n    from\n        results r3 where r3.tournament != 'Friendly') inner_table\ngroup by clube)\nselect\n    p.clube,\n-- Subselect para realizar a contagem total de jogos em que o time apareceu como home ou away\n    (select count(*)\n     from results r1\n     where (r1.home_team = p.clube\n        or r1.away_team = p.clube) and r1.tournament != 'Friendly') as qtd_jogos,\n-- Subselect para retornar a menor data em que ocorre um jogo com o clube na condi\u00e7\u00e3o de home ou away\n    (select min(r2.\"date\"::date)\n     from results r2\n     where (r2.home_team = p.clube\n        or r2.away_team = p.clube)) as primeiro_jogo,\n    s.gols_realizados,\n    s.gols_sofridos,\n    s.gols_realizados - s.gols_sofridos as saldo_gols,\n-- Subselect que checa se o clube p.clube teve pontua\u00e7\u00e3o maior do que o advers\u00e1rio na posi\u00e7\u00e3o de home_team ou de away_team\n    (select sum(case when r5.home_team = p.clube\n                     and r5.home_score &gt; r5.away_score\n                     or r5.away_team  = p.clube\n                     and r5.away_team &gt; r5.home_team  then 1 else 0 end) from results r5 where r5.tournament != 'Friendly') as vitorias,\n-- Subselect que checa se o clube p.clube teve pontua\u00e7\u00e3o menor do que o advers\u00e1rio na posi\u00e7\u00e3o de home_team ou de away_team\n    (select sum(case when r6.home_team = p.clube\n                     and r6.home_score &lt; r6.away_score\n                     or r6.away_team  = p.clube\n                     and r6.away_team &lt; r6.home_team  then 1 else 0 end) from results r6 where r6.tournament != 'Friendly') as derrotas,\n-- Subselect que checa se o clube p.clube \u00e9 ou o home_team ou o away_team e depois checa se as pontua\u00e7\u00f5es s\u00e3o iguais\n    (select sum(case when (r7.home_team = p.clube or r7.away_team = p.clube)\n                     and r7.home_score = r7.away_score then 1 else 0 end) from results r7 where r7.tournament != 'Friendly') as empates,\n-- Subselect que re\u00fane todos os grupos advers\u00e1rios away e home num subselect, aplica um distinct e depois um count\n    (select count(*) from (select distinct * from (select r8.away_team as team from results r8 where p.clube = r8.home_team\n                  union all\n                  select r9.home_team as team from results r9 where p.clube = r9.away_team) inner_table3)inner_table4)as qtd_adversarios,\n-- Subselect que usa a coluna 'vit\u00f3rias para ranquear todos os nomes da lista\n    RANK() OVER (ORDER by (select sum(case when r5.home_team = p.clube\n                     and r5.home_score &gt; r5.away_score\n                     or r5.away_team  = p.clube\n                     and r5.away_team &gt; r5.home_team  then 1 else 0 end) from results r5 where r5.tournament != 'Friendly')  desc) as ranking\nfrom\n    paises p\njoin saldogols s on p.clube = s.clube\norder by 7 desc\n</code></pre> Output: <pre><code>clube                           |qtd_jogos|primeiro_jogo|gols_realizados|gols_sofridos|saldo_gols|vitorias|derrotas|empates|qtd_adversarios|ranking\n--------------------------------+---------+-------------+---------------+-------------+----------+--------+--------+-------+---------------+-------\nUruguay                         |      607|   1902-07-20|            987|          725|       262|     483|      54|    143|             85|      1\nSouth Korea                     |      604|   1949-01-02|           1149|          486|       663|     428|      98|    158|            123|      2\nScotland                        |      584|   1872-11-30|           1025|          688|       337|     398|     122|    128|             78|      3\nSweden                          |      510|   1908-07-12|           1012|          585|       427|     397|      64|    103|             99|      4\nThailand                        |      556|   1954-11-01|            829|          873|       -44|     396|      99|    135|             80|      5\n</code></pre></p>"},{"location":"Consultas_SQL/#estatiticas-de-jogos-com-penaltis-shootout_results","title":"Estat\u00edticas de jogos com p\u00eanaltis (shootout_results).","text":"<p>Retorna estat\u00edsticas de vit\u00f3ria de cada sele\u00e7\u00e3o em jogos com e sem p\u00eanaltis e a diferen\u00e7a da taxa de vit\u00f3ria. <pre><code>create or replace view shootout_results\nas\nwith matches as (\n           select r.home_team as team,\n           to_char(r.\"date\"::date, 'YYYY') as year,\n           r.away_team as oponent,\n           r.tournament,\n           r.home_score as gols,\n           case\n               when r.home_score &gt; r.away_score then 'vitoria'\n               when r.home_score &lt; r.away_score then 'derrota'\n               else 'empate'\n           end as \"result\",\n           s.winner as res_penalti\n    from results r\n        left join shootouts s on s.home_team = r.home_team and s.\"date\" = r.\"date\" and s.away_team = r.away_team\n    union all\n    select r.away_team as team,\n           to_char(r.\"date\"::date, 'YYYY') as ano,\n           r.home_team as oponent,\n           r.tournament,\n           r.away_score as goals,\n           case\n               when r.away_score &gt; r.home_score then 'vitoria'\n               when r.away_score &lt; r.home_score then 'derrota'\n               else 'empate'\n           end as \"result\",\n           s.winner as res_penalti\n    from results r\n        left join shootouts s on s.home_team = r.home_team and s.\"date\" = r.\"date\" and s.away_team = r.away_team),\ntaxas as (\n    select m.team,\n           count(*) filter(where result = 'vitoria' and res_penalti is not null)::numeric as vitorias_penalti,\n           count(*) filter(where result = 'derrotas' and res_penalti is not null)::numeric as derrotas_penalti,\n           count(*) filter(where result = 'vitoria')::numeric as vitorias_geral,\n           count(*) filter(where result = 'vitoria')::numeric as derrotas_geral,\n           count(*) filter(where result = 'vitoria')::numeric as empates_geral,\n           trunc(count(*) filter(where result = 'vitoria')::numeric\n                 / count(*)::numeric,2) as tx_vitoria_geral,\n           case when count(*) filter(where res_penalti is not null) &gt; 0\n                then trunc(count(*) filter(where result = 'vitoria'\n                                           and res_penalti is not null)::numeric\n                           / count(*) filter(where res_penalti is not null)::numeric,2)\n           else null end as tx_vitoria_penalti\n    from matches m\n    group by m.team\n    having (count(*) filter(where res_penalti is not null) &gt; 0))\nselect *,\n        tx_vitoria_geral - tx_vitoria_penalti as diferen\u00e7a,\n        case when tx_vitoria_geral - tx_vitoria_penalti &gt; 0 then 'melhor'\n             when tx_vitoria_geral - tx_vitoria_penalti &lt; 0 then 'pior'\n             else 'neutro'\n        end as impacto\nfrom taxas\n</code></pre> Output: <pre><code>team                    |vitorias_penalti|derrotas_penalti|vitorias_geral|derrotas_geral|empates_geral|tx_vitoria_geral|tx_vitoria_penalti|diferen\u00e7a|impacto|\n------------------------+----------------+----------------+--------------+--------------+-------------+----------------+------------------+---------+-------+\nAbkhazia                |               0|               0|            12|            12|           12|            0.42|              0.00|     0.42|melhor |\n\u00c5land Islands           |               0|               0|            21|            21|           21|            0.45|              0.00|     0.45|melhor |\nAlgeria                 |               0|               0|           243|           243|          243|            0.43|              0.00|     0.43|melhor |\nAndorra                 |               0|               0|            12|            12|           12|            0.05|              0.00|     0.05|melhor |\nAngola                  |               0|               0|           131|           131|          131|            0.33|              0.00|     0.33|melhor |\nAntigua and Barbuda     |               0|               0|            71|            71|           71|            0.32|              0.00|     0.32|melhor |\nArgentina               |               1|               0|           563|           563|          563|            0.54|              0.04|     0.50|melhor |\n</code></pre></p>"},{"location":"Consultas_SQL/#estatisticas-de-melhor-campeonato-best_championship","title":"Estatisticas de melhor campeonato (best_championship).","text":"<p>Retorna estat\u00edsticas de desempenho de cada time por campeonato <pre><code>create or replace view best_championship\nas with times_and_camps as(\nselect \n    distinct \n    home_team as team,\n    r.tournament\n        from \n    results r \n),\ntimes_wins_goals as \n(select \n    team,\n    tournament,\n\n    (\n        select \n        SUM(\n            case when r2.home_score &gt; r2.away_score then 1 else 0 end\n        ) as  v1\n\n        from results r2\n        where \n            r2.home_team = c.team and  r2.tournament = c.tournament\n    ),\n    (\n        select \n        SUM(\n            case when r2.home_score &gt; r2.away_score then home_score else 0 end\n        ) as  v1_gols\n\n        from results r2\n        where \n            r2.home_team = c.team and  r2.tournament = c.tournament\n    )\n\n\n    ,\n    (\n        select \n        SUM(\n            case when r2.home_score &lt; r2.away_score then 1 else 0 end\n        ) as  v2\n\n        from results r2\n        where \n            r2.away_team  = c.team and  r2.tournament = c.tournament\n    ),\n        (\n        select \n        SUM(\n            case when r2.home_score &lt; r2.away_score then away_score else 0 end\n        ) as  v2_gols\n\n        from results r2\n        where \n            r2.away_team  = c.team and  r2.tournament = c.tournament\n    )\n\n\n    from\n times_and_camps c \n order by team asc\n ), team_rank as (select \n    team,\n    tournament,\n    sum(\n        coalesce(v1, 0)\n        +\n        coalesce(v2, 0)\n        ) qtd_vitorias,\n\n    sum(\n        coalesce(v1_gols, 0 )\n        +\n        coalesce(v2_gols,0 )\n    ) qtd_gols,\n    row_number() over (partition by team order by (sum(coalesce(v1, 0)  +coalesce(v2, 0)) ) desc ) rn  \n from times_wins_goals\n group by 1, 2 \n ) select * from team_rank where rn = 1\n</code></pre> Output: <pre><code>team                    |tournament                          |qtd_vitorias|qtd_gols|rn|\n------------------------+------------------------------------+------------+--------+--+\nAbkhazia                |CONIFA World Football Cup           |           9|      29| 1|\nAfghanistan             |SAFF Cup                            |          11|      37| 1|\n\u00c5land Islands           |Island Games                        |          21|      51| 1|\nAlbania                 |Friendly                            |          41|      96| 1|\nAlderney                |Island Games                        |           2|       4| 1|\nAlgeria                 |Friendly                            |          91|     207| 1|\n</code></pre></p>"},{"location":"Consultas_SQL/#estatisticas-de-distribuicao-de-gols-goals_distribuition","title":"Estat\u00edsticas de distribui\u00e7\u00e3o de gols (goals_distribuition):","text":"<p>Retorna a quantidade de gols marcados por minuto de partida por pa\u00eds <pre><code>create or replace view goals_distribuition\nas\nSELECT distinct teams.team, minutes.minute, COALESCE(counts.count, 0) as count\nFROM (SELECT DISTINCT team FROM goalscorers) AS teams\nCROSS JOIN (\n  SELECT generate_series(1, max_minute::integer) AS minute, team\n  FROM (\n    SELECT team, max(minute) as max_minute\n    FROM goalscorers\n    GROUP BY team\n  ) AS max_minutes\n) AS minutes\nLEFT JOIN (\n  SELECT team, minute, count(*) as count\n  FROM goalscorers\n  GROUP BY team, minute\n) AS counts ON teams.team = counts.team AND minutes.minute = counts.minute\nORDER BY teams.team, minutes.minute;\n</code></pre> Output: <pre><code>team       |minute|count\n-----------+------+-----\nAfghanistan|     1|    0\nAfghanistan|     2|    0\nAfghanistan|     3|    0\nAfghanistan|     4|    0\nAfghanistan|     5|    0\nAfghanistan|     6|    0\n</code></pre></p>"},{"location":"Consultas_SQL/#gols-cumulativos-por-ano-por-pais-goals_cumulative","title":"Gols cumulativos por ano por pa\u00eds (goals_cumulative).","text":"<p>Retorna o acumulado de gols realizados por cada pa\u00eds por ano desde o inico da s\u00e9rie hist\u00f3rica <pre><code>create or replace view goals_cummulative\nas with matches as (\n    select r.home_team as team,\n           to_char(\"date\"::date, 'YYYY') as year,\n           r.away_team as oponent,\n           r.tournament,\n           r.home_score as gols,\n           case\n               when home_score &gt; away_score then 'vitoria'\n               when home_score &lt; away_score then 'derrota'\n               else 'empate'\n           end as \"result\"\n    from results r\n    union all\n    select r.away_team as team,\n           to_char(\"date\"::date, 'YYYY') as ano,\n           r.home_team as oponent,\n           r.tournament,\n           r.away_score as goals,\n           case\n               when away_score &gt; home_score then 'vitoria'\n               when away_score &lt; home_score then 'derrota'\n               else 'empate'\n           end as \"result\"\n    from results r\n),\ngols_ano as(\n        select team,\n               year,\n               sum(gols) as gols from matches\n        group by 1,2\n        order by team)\nselect\n  \"year\",\n  team,\n  gols,\n  sum(gols) over (partition by team order by \"year\" asc rows between unbounded preceding and current row) acumulado\nfrom gols_ano\n</code></pre> Output: <pre><code>year|team          |gols|acumulado|\n----+--------------+----+---------+\n2012|Abkhazia      |   1|        1|\n2014|Abkhazia      |   6|        7|\n2016|Abkhazia      |  15|       22|\n2017|Abkhazia      |   5|       27|\n2018|Abkhazia      |  15|       42|\n2019|Abkhazia      |   6|       48|\n</code></pre></p>"},{"location":"Consultas_SQL/#melhor-matchup-de-cada-time-best_matches","title":"Melhor matchup de cada time (best_matches).","text":"<p>Retorna o advers\u00e1rio que cada time teve melhor desempenho contra <pre><code>create or replace view best_matches\nas\nwith matches as (\n    select home_team as team,\n           away_team as oponent,\n           case\n               when home_score &gt; away_score then 'win'\n               when home_score &lt; away_score then 'loss'\n               else 'tie'\n           end as \"result\"\n    from results r\n    union all\n    select away_team as team,\n           home_team as oponent,\n           case\n               when away_score &gt; home_score then 'win'\n               when away_score &lt; home_score then 'loss'\n               else 'tie'\n           end as \"result\"\n    from results r\n),\nteam_opponent_stats as (\n    select team,\n           oponent,\n           count(\"result\") filter (where \"result\" = 'win') as wins,\n           count(\"result\") filter (where \"result\" = 'loss') as losses,\n           count(\"result\") filter (where \"result\" = 'tie') as ties,\n           count(\"result\") as total,\n           trunc((count(\"result\") filter (where \"result\" = 'win')::numeric\n                  / count(\"result\")::numeric), 2) as win_rate,\n           ((count(\"result\") filter (where \"result\" = 'win')::numeric\n             / count(\"result\")::numeric)\n            * count(\"result\")) as score\n    from matches m\n    group by team, oponent\n),\nranking as (\nselect *,\n           row_number() over (partition by team order by score desc) as rank\nfrom team_opponent_stats)\nselect irt.\"time\",\n       irt.pior_contra,\n       irt.vitorias,\n       irt.derrotas,\n       irt.empates,\n       irt.total,\n       irt.tx_vitoria,\n       irt.\"rank\"\nfrom(\n        select team as \"time\",\n               oponent as pior_contra,\n               wins as vitorias,\n               losses as derrotas,\n               ties as empates,\n               total,\n               win_rate tx_vitoria,\n               \"rank\",\n               (select max(\"rank\") from ranking r2 where r2.team = r.team) as max,\n               case when \"rank\" = max(\"rank\") then 'pior'\n                    when \"rank\" = 1 then 'melhor'\n                    else null end as class\n        from ranking r\n        where total &gt; 3\n        group by 1,2,3,4,5,6,7,8\n        order by \"rank\" desc) irt\nwhere (case when \"rank\" = \"max\" then 'pior'\nwhen \"rank\" = 1 then 'melhor'\nelse null end ) is not null\norder by \"time\" asc\n</code></pre> Output: <pre><code>time                    |pior_contra             |vitorias|derrotas|empates|total|tx_vitoria|rank|\n------------------------+------------------------+--------+--------+-------+-----+----------+----+\nAfghanistan             |Sri Lanka               |       6|       1|      1|    8|      0.75|   1|\n\u00c5land Islands           |Jersey                  |       0|       6|      0|    6|      0.00|  17|\n\u00c5land Islands           |Greenland               |       4|       1|      0|    5|      0.80|   1|\nAlbania                 |Malta                   |       5|       1|      2|    8|      0.62|   1|\nAlbania                 |Netherlands             |       0|       4|      0|    4|      0.00|  68|\nAlgeria                 |Senegal                 |      15|       4|      6|   25|      0.60|   1|\n</code></pre></p>"},{"location":"Consultas_SQL/#observacoes","title":"Observa\u00e7\u00f5es:","text":"<ul> <li>Na sua maior parte, as views ignoram partidas amistosas, verifique se isso ocorre ao interpretar os resultados.</li> </ul>"},{"location":"Previews/","title":"Previews","text":""},{"location":"Previews/#dashboard-no-metabase","title":"Dashboard no Metabase:","text":""},{"location":"Previews/#ui-no-metabase","title":"UI no Metabase:","text":""},{"location":"Previews/#ui-no-postgresql","title":"UI no PostgreSQL:","text":""},{"location":"Previews/#ui-no-docker","title":"UI no Docker:","text":""},{"location":"Primeiros_Passos/","title":"Primeiros Passos","text":""},{"location":"Primeiros_Passos/#realizar-a-configuracao-do-ambiente","title":"Realizar a configura\u00e7\u00e3o do ambiente","text":""},{"location":"Primeiros_Passos/#1-realizar-o-download-do-docker-desktop","title":"1. Realizar o download do Docker Desktop:","text":""},{"location":"Primeiros_Passos/#2-realize-o-pull-das-imagens","title":"2. Realize o pull das imagens:","text":"<p><pre><code>docker pull metabase/metabase\ndocker pull postgres\n</code></pre> O download das imagens tamb\u00e9m pode ser feito atrav\u00e9s do aplicativo do Docker desktop</p>"},{"location":"Primeiros_Passos/#3-certifique-se-de-que-as-imagens-baixadas-foram-identificadas-pelo-docker","title":"3. Certifique-se de que as imagens baixadas foram identificadas pelo docker","text":"<p><pre><code>docker image ls\n</code></pre> Output: <pre><code>REPOSITORY                    TAG       IMAGE ID       CREATED        SIZE\nmetabase/metabase             latest    2b600465cfbe   2 weeks ago    484MB\npostgres                      latest    96f08c06113e   6 weeks ago    438MB\n</code></pre></p>"},{"location":"Primeiros_Passos/#4-crie-um-container-com-as-imagens-utilizando-o-docker-compose","title":"4. Crie  um container com as imagens utilizando o Docker-Compose","text":"<p><pre><code>docker-compose up\n</code></pre> \u00c9 poss\u00edvel especificar o servi\u00e7o desejado contido no docker-compose.yml ap\u00f3s o comando up, neste caso vamos subir um container com ambos os servi\u00e7os</p>"},{"location":"Primeiros_Passos/#5-exiba-os-containers-ativos","title":"5. Exiba os containers ativos","text":"<p><pre><code>docker ps\n</code></pre> Output: <pre><code>CONTAINER ID   IMAGE               COMMAND                  CREATED        STATUS          PORTS                    NAMES\na24fdf0e24ba   metabase/metabase   \"/app/run_metabase.sh\"   14 hours ago   Up 6 seconds    0.0.0.0:3000-&gt;3000/tcp   desafio-resultados-do-futebol-eng-de-dados-bi-1\n4c609ec470be   postgres            \"docker-entrypoint.s\u2026\"   14 hours ago   Up 42 minutes   0.0.0.0:5432-&gt;5432/tcp   pg_container\n</code></pre></p>"},{"location":"Primeiros_Passos/#6-caso-deseje-parar-um-container","title":"6. Caso deseje parar um container","text":"<pre><code>docker stop &lt;container_id&gt;\n</code></pre>"},{"location":"Primeiros_Passos/#7-crie-um-ambiente-virtual-venv","title":"7. Crie um ambiente virtual <code>venv</code>.","text":"<p><pre><code>python3 -m venv env\n</code></pre> Certifique-se de estar localizado na pasta raiz do projeto no momento da cria\u00e7\u00e3o do ambiente virtual</p>"},{"location":"Primeiros_Passos/#8-ative-o-ambiente-virtual","title":"8. Ative o ambiente virtual.","text":"<p><pre><code>source env/bin/activate\n</code></pre> ** Assim que o ambiente virtual for ativado, o terminal anternar\u00e1 o valor exibido entre par\u00eanteses de <code>base</code> para <code>env</code>: <pre><code>(base) 192:Desafio-Resultados-do-Futebol-Eng.-de-Dados user$ source env/bin/activate\n(env) (base) 192:Desafio-Resultados-do-Futebol-Eng.-de-Dados user$\n</code></pre></p>"},{"location":"Primeiros_Passos/#9-instale-os-pacotes-listados-no-arquivo-requirementstxt","title":"9. Instale os pacotes listados no arquivo <code>requirements.txt</code>.","text":"<pre><code>pip instal -r requirements.txt\n</code></pre>"},{"location":"Primeiros_Passos/#10-execute-o-script-srcmainpy","title":"10.  Execute o Script <code>src/main.py</code>","text":"<p>Com os containers ativos, j\u00e1 \u00e9 poss\u00edvel utilizar o script main.py, que ir\u00e1 criar as tabelas descritas nos comandos SQL, obter 3 arquivos CSV do Dataset localizado no Kaggle e inseri-los nas tabelas do Banco de Dados.</p> <p>Os acessos para o banco de dados s\u00e3o configurados no arquivo docker-compose e s\u00e3o os seguintes:</p>"},{"location":"Primeiros_Passos/#11-acesso-ao-banco-de-dados","title":"11. Acesso ao Banco de Dados","text":"<p><code>Host:</code> <pre><code>0.0.0.0 ou localhost\n</code></pre> <code>Porta:</code> <pre><code>5432\n</code></pre> <code>Database:</code> <pre><code>test_db\n</code></pre> <code>User:</code> <pre><code>root\n</code></pre> <code>Senha:</code> <pre><code>root\n</code></pre></p>"},{"location":"Primeiros_Passos/#12-accesso-ao-metabase","title":"12. Accesso ao Metabase:","text":"<p>Com as tabelas criadas, uma s\u00e9rie de perguntas e queries personalizadas para os dados obtidos j\u00e1 estar\u00e3o dispon\u00edveis no metabase.</p> <p><code>URL:</code> <pre><code>localhost::3000\n</code></pre></p>"},{"location":"Primeiros_Passos/#credenciais","title":"Credenciais:","text":"<p><code>E-mail:</code> <pre><code>admin@provider.com\n</code></pre> <code>Senha:</code> <pre><code>since2008\n</code></pre></p>"}]}